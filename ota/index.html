<button onclick="connect()">Connect</button>
<pre id="out"></pre>
<script>
const SVC = 'efcdab90-7856-3412-f0de-bc9a78563412';
const CHR = 'efcdab90-7856-3412-f0de-bc9a78560001';
async function connect(){
  const dev = await navigator.bluetooth.requestDevice({filters:[{services:[SVC]}]});
  const gatt = await dev.gatt.connect();
  const svc  = await gatt.getPrimaryService(SVC);
  const chr  = await svc.getCharacteristic(CHR);
  await chr.startNotifications();
  chr.addEventListener('characteristicvaluechanged', e=>{
    const v = new TextDecoder().decode(e.target.value.buffer);
    document.getElementById('out').textContent = v;
  });
  // 讀一次（可選）
  const v = await chr.readValue();
  document.getElementById('out').textContent = new TextDecoder().decode(v.buffer);
}
</script>
