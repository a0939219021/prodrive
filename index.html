<!doctype html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Web Bluetooth Quick Test (iOS Bluefy)</title>
<body style="font-family:system-ui,Arial;padding:16px">
<h3>Web Bluetooth Quick Test</h3>
<button id="btn" style="padding:10px 14px;font-weight:700">ğŸ”— Connect</button>
<pre id="out" style="white-space:pre-wrap;background:#111;color:#ddd;padding:12px;border-radius:8px;margin-top:12px"></pre>
<script>
const out = document.getElementById('out');
function log(s){ out.textContent = s; }
if (!('bluetooth' in navigator)) {
  log('âŒ æ­¤ç€è¦½å™¨ä¸æ”¯æ´ Web Bluetoothã€‚\nè«‹åˆ° iOS è¨­å®šâ†’éš±ç§æ¬Šèˆ‡å®‰å…¨æ€§â†’è—ç‰™â†’é–‹å•Ÿ Bluefy æ¬Šé™ï¼Œä¸¦ä½¿ç”¨ Bluefy é–‹å•Ÿæœ¬é ã€‚');
}
document.getElementById('btn').addEventListener('click', async ()=>{
  try{
    log('Opening chooser...');
    const dev = await navigator.bluetooth.requestDevice({
      acceptAllDevices: true, optionalServices: ['0000fff0-0000-1000-8000-00805f9b34fb']
    });
    log('Selected: ' + (dev.name || '(no name)'));
  }catch(e){
    log('Error: ' + e.name + ' - ' + e.message + '\n(è‹¥æ²’æœ‰è·³å‡ºæ¸…å–®ï¼Œå¤šåŠæ˜¯æ¬Šé™æˆ–è—ç‰™è¢«å…¶ä»– App ä½”ç”¨)');
  }
});
</script>
</body>
